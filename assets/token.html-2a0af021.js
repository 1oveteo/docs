import{d as g,ao as x,h as d,o as i,D as f,w as n,a as r,u as t,e as a,G as c,aj as v,c as w,b as y,F as z,N as S,_ as C,r as j}from"./app-fbbd1cea.js";import{N as _}from"./Input-bc83ccd0.js";import{N as k}from"./Button-32352bdf.js";import{N as h}from"./Alert-5c6c6744.js";import{N}from"./Tag-79d42b58.js";import"./browser-7d99a8d9.js";import"./resolve-slot-678e788d.js";import"./Scrollbar-eb25dac8.js";import"./use-merged-state-8034c855.js";import"./color-to-class-b0332f36.js";const B=g({__name:"Token",setup(T){const o=x({phone:"",password:"",verify_code:""}),p=d(),s=d(),u=d();async function b(){const e=await(await fetch("https://api.nn.ci/alist/wopan/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();if(e.error){p.value=e.error;return}}async function V(){const e=await(await fetch("https://api.nn.ci/alist/wopan/verify_code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();if(e.error){s.value=e.error;return}u.value=e}return(m,e)=>(i(),f(t(S),{size:"large",vertical:""},{default:n(()=>[r(t(_),{size:"large",placeholder:"Phone number",value:o.phone,"onUpdate:value":e[0]||(e[0]=l=>o.phone=l)},null,8,["value"]),r(t(_),{size:"large",placeholder:"Password",value:o.password,"onUpdate:value":e[1]||(e[1]=l=>o.password=l),type:"password"},null,8,["value"]),r(t(k),{type:"primary",size:"large",block:"",onClick:b},{default:n(()=>[a("Get Verify Code")]),_:1}),p.value?(i(),f(t(h),{key:0,title:"Error",type:"error"},{default:n(()=>[a(c(p.value),1)]),_:1})):v("v-if",!0),r(t(_),{size:"large",placeholder:"Verify code",value:o.verify_code,"onUpdate:value":e[2]||(e[2]=l=>o.verify_code=l)},null,8,["value"]),r(t(k),{type:"primary",size:"large",block:"",onClick:V},{default:n(()=>[a("Get Token")]),_:1}),s.value?(i(),f(t(h),{key:1,title:"Error",type:"error"},{default:n(()=>[a(c(s.value),1)]),_:1})):v("v-if",!0),u.value?(i(),w(z,{key:2},[y("div",null,[a("refresh_token: "),r(t(N),{bordered:!1,type:"info"},{default:n(()=>[a(c(u.value.refresh_token),1)]),_:1})]),y("div",null,[a("access_token: "),r(t(N),{bordered:!1,type:"info"},{default:n(()=>[a(c(u.value.access_token),1)]),_:1})])],64)):v("v-if",!0)]),_:1}))}}),O=C(B,[["__file","Token.vue"]]),P=g({__name:"token.html",setup(T){return(o,p)=>{const s=j("NaiveClient");return i(),w("div",null,[r(s,null,{default:n(()=>[r(t(O))]),_:1})])}}}),H=C(P,[["__file","token.html.vue"]]);export{H as default};

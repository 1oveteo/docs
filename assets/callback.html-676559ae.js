import{d as x,h as S,u as e,o as r,D as s,w as i,e as l,G as _,b as a,aj as I,a as b,b8 as P,N as k,b9 as B,ba as T,_ as C,r as V,c as z}from"./app-fbbd1cea.js";import{N as v}from"./Alert-5c6c6744.js";import{N as j}from"./Input-bc83ccd0.js";import"./resolve-slot-678e788d.js";import"./browser-7d99a8d9.js";import"./Scrollbar-eb25dac8.js";import"./use-merged-state-8034c855.js";const m=c=>(B("data-v-07bce39d"),c=c(),T(),c),D=m(()=>a("b",null,"client_id: ",-1)),E=m(()=>a("b",null,"client_secret: ",-1)),L=m(()=>a("b",null,"redirect_uri: ",-1)),R=m(()=>a("b",null,"refresh_token:",-1)),y="a78d5a69054042fa936f6c77f9a0ae8b",N="9c119bbb04b346d2a52aa64401936b2b",U="https://alist.nn.ci/tool/yandex/callback",A=x({__name:"Callback",setup(c){const p=new URL(window.location.href),d=p.searchParams.get("code"),n=p.searchParams.get("error"),g=p.searchParams.get("error_description"),t=S();return d&&!n&&(async()=>{const o=new URLSearchParams;o.append("grant_type","authorization_code"),o.append("client_id",y),o.append("client_secret",N),o.append("code",d||"");const u=await(await fetch("https://oauth.yandex.com/token",{method:"POST",body:o})).json();t.value=u})(),(o,w)=>!e(d)||e(n)?(r(),s(e(v),{key:0,title:e(n)||"Error",type:"error"},{default:i(()=>[l(_(e(g)),1)]),_:1},8,["title"])):(r(),s(e(k),{key:1,vertical:"",size:"large"},{default:i(()=>{var u,f,h;return[a("p",null,[D,l(_(y))]),a("p",null,[E,l(_(N))]),a("p",null,[L,l(_(U))]),(u=t.value)!=null&&u.error||(f=t.value)!=null&&f.error_description?(r(),s(e(v),{key:0,title:(h=t.value)==null?void 0:h.error,type:"error"},{default:i(()=>[l(_(t.value.error_description),1)]),_:1},8,["title"])):I("v-if",!0),b(e(k),{vertical:""},{default:i(()=>[R,t.value?(r(),s(e(j),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(r(),s(e(P),{key:0}))]),_:1})]}),_:1}))}});const G=C(A,[["__scopeId","data-v-07bce39d"],["__file","Callback.vue"]]),O=x({__name:"callback.html",setup(c){return(p,d)=>{const n=V("NaiveClient");return r(),z("div",null,[b(n,null,{default:i(()=>[b(e(G))]),_:1})])}}}),W=C(O,[["__file","callback.html.vue"]]);export{W as default};

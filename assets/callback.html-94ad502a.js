import{N as m}from"./Alert-bb842866.js";import{N as C}from"./Input-8542eb46.js";import{d as k,h as g,u as e,o as a,D as s,w as c,e as f,G as v,aj as w,a as i,b8 as x,N as h,b9 as S,ba as I,b as T,_ as y,r as B,c as P}from"./app-d4cce820.js";import"./resolve-slot-cacdf84e.js";import"./browser-c2be0643.js";import"./Scrollbar-8af227a2.js";import"./use-merged-state-e9630f09.js";const V=r=>(S("data-v-804a2d94"),r=r(),I(),r),j=V(()=>T("b",null,"refresh_token:",-1)),z="https://api.nn.ci",D=k({__name:"Callback",setup(r){const n=new URL(window.location.href),l=n.searchParams.get("code"),o=n.searchParams.get("error"),N=n.searchParams.get("error_description"),t=g();return l&&!o&&(async()=>{const _=await(await fetch(z+"/alist/ali_open/code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:l,grant_type:"authorization_code"})})).json();t.value=_})(),(b,_)=>!e(l)||e(o)?(a(),s(e(m),{key:0,title:e(o)||"Error",type:"error"},{default:c(()=>[f(v(e(N)),1)]),_:1},8,["title"])):(a(),s(e(h),{key:1,vertical:"",size:"large"},{default:c(()=>{var p,u,d;return[(p=t.value)!=null&&p.error||(u=t.value)!=null&&u.error?(a(),s(e(m),{key:0,title:(d=t.value)==null?void 0:d.error,type:"error"},{default:c(()=>[f(v(t.value.error),1)]),_:1},8,["title"])):w("v-if",!0),i(e(h),{vertical:""},{default:c(()=>[j,t.value?(a(),s(e(C),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(a(),s(e(x),{key:0}))]),_:1})]}),_:1}))}});const E=y(D,[["__scopeId","data-v-804a2d94"],["__file","Callback.vue"]]),O=k({__name:"callback.html",setup(r){return(n,l)=>{const o=B("NaiveClient");return a(),P("div",null,[i(o,null,{default:c(()=>[i(e(E))]),_:1})])}}}),F=y(O,[["__file","callback.html.vue"]]);export{F as default};
